<!--
System Management (SM) 
Copyright (C) 2025  D P Bennett & Associates Limited

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.

Email: info@dpbennett.com.jm
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">   

    <p:confirmDialog widgetVar="deleteNotificationDialog" 
                     showEffect="fade" 
                     width="auto"
                     message="Delete the notification?" 
                     responsive="true"
                     header="Confirm" 
                     severity="warn">

        <p:commandButton value="Yes" 
                         icon="pi pi-check" 
                         actionListener="#{systemManager.deleteNotification}"                             
                         process="@this" 
                         oncomplete="PF('deleteNotificationDialog').hide()" />

        <p:commandButton value="No" 
                         type="button" 
                         styleClass="ui-button-secondary" 
                         icon="pi pi-times"
                         onclick="PF('deleteNotificationDialog').hide()" />

    </p:confirmDialog>


    <p:confirmDialog severity="info"
                     message="The browser you are currently using is incompatible with this web application. The user interface may freeze or behave erratically. Please use Firefox, Chrome or the browser recommended by the MIS Department."
                     header="Incompatible Browser"
                     widgetVar="incompatibleBrowserDialog"
                     responsive="true"
                     width="auto">
        <h:form>
            <p:commandButton value="Ok"
                             onclick="incompatibleBrowserDialog.hide();"
                             icon="pi pi-check"/>
        </h:form>
    </p:confirmDialog>

    <p:confirmDialog severity="info"
                     message="You have attempted to login two (2) or more times without success.
                     Your login credentials may be incorrect or your account has not yet been created.
                     If you have successfully logged in before, you may want to check if Caps Lock on your keyboard is on and try again.
                     If you have not logged on before an email was already sent to the System Administrator
                     who will investigate the issue and contact you within two (2) working days.
                     Try to avoid more than two (2) incorrect logins because this may result in
                     you being barred from further computer or network access. You would have to contact the MIS department
                     to reset your password if this occurs."
                     header="Failed Login Attempts"
                     widgetVar="loginAttemptsDialog"
                     responsive="true"
                     width="auto">
        <h:form>
            <p:commandButton value="Ok"
                             onclick="loginAttemptsDialog.hide();"
                             icon="pi pi-check"/>
        </h:form>
    </p:confirmDialog>


    <h:form>
        <p:confirmDialog severity="alert"
                         closable="false"
                         message="A network connection error occurred. An attempt will be made to reload the current page."
                         header="Network Connection Error"
                         widgetVar="connectionErrorDialog"
                         responsive="true"
                         width="auto">

            <p:commandButton value="Ok"
                             onclick="window.location.reload();"
                             icon="pi pi-check" />

        </p:confirmDialog>
    </h:form>

    <p:confirmDialog severity="alert"
                     message="A server connection error occurred! An attempt will be made to reconnect."
                     header="Server Connection Error"
                     widgetVar="connectionErrorAlertDialog"
                     responsive="true"
                     width="auto" >
        <h:form>
            <p:commandButton value="Ok"
                             onclick="reloadCurrentPage();"
                             icon="pi pi-check" />
        </h:form>
    </p:confirmDialog>   

    <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()"/>

    <h:form>
        <p:dialog widgetVar="statusDialog" 
                  modal="false" 
                  draggable="false" 
                  closable="false" 
                  resizable="false"       
                  responsive="true"
                  showHeader="false"                   
                  style="margin: 0;padding: 0;opacity: 0.25;">

            <i class="pi pi-spin pi-spinner loading-icon" 
               style="font-size: 3em;margin:0;padding:0;"
               aria-hidden="true">                       
            </i>

        </p:dialog>
    </h:form>

    <h:form>
        <p:dialog widgetVar="systemInfoDialog" 
                  minHeight="40" 
                  width="350" 
                  header="System Information"
                  showEffect="fade" 
                  showHeader="true"
                  modal="true" 
                  closeOnEscape="true">

            <p>
                Persistence Units:
            </p>
            <p>
                #{systemManager.systemInfo}
            </p>

        </p:dialog>
    </h:form>

</html>
